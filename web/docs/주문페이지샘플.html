<!DOCTYPE html>
<html lang="ko" data-theme="emerald">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>우리동네주문서 - 장봐주는언니 운양점</title>
    <meta name="description" content="우리동네주문서 - 신선한 농산물 공동구매">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Styles -->
    <style>
        :root {
            --primary: #10b981;
            --primary-foreground: #ffffff;
            --background: #ffffff;
            --foreground: #0f172a;
            --default-100: #f1f5f9;
            --default-200: #e2e8f0;
            --default-500: #64748b;
            --default-700: #334155;
            --divider: #e2e8f0;
            --danger: #ef4444;
            --focus: #3b82f6;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--background);
            color: var(--foreground);
        }
        
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: var(--primary-foreground);
            border: 1px solid var(--primary);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .btn-primary:hover {
            opacity: 0.9;
        }
        
        .btn-outline {
            background-color: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .btn-outline:hover {
            opacity: 0.8;
        }
        
        .btn-default {
            background-color: transparent;
            color: var(--foreground);
            border: 1px solid var(--default-200);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .btn-default:hover {
            opacity: 0.8;
        }
        
        .input-field {
            width: 100%;
            padding: 0.75rem;
            background-color: var(--default-100);
            border: 1px solid transparent;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            transition: all 0.2s;
        }
        
        .input-field:focus {
            outline: none;
            background-color: var(--default-100);
            border-color: var(--focus);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.1);
        }
        
        .product-card {
            border-bottom: 1px solid var(--divider);
            padding: 1.25rem 1.875rem;
        }
        
        .quantity-btn {
            width: 100%;
            height: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            background: transparent;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .quantity-btn:hover {
            background-color: var(--default-100);
        }
        
        .quantity-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .sticky-header {
            position: sticky;
            top: 65px;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(12px);
            z-index: 49;
        }
        
        .fixed-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            background: white;
            border-top: 1px solid var(--divider);
        }
        
        @media (max-width: 768px) {
            .product-card {
                padding: 1.25rem 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="bg-white min-h-screen">
        <!-- Navigation -->
        <nav class="flex z-40 w-full h-auto items-center justify-center sticky top-0 inset-x-0 border-b border-gray-200 backdrop-blur-lg bg-white/70" style="--navbar-height: 4rem;">
            <header class="z-40 flex px-6 gap-4 w-full flex-row relative flex-nowrap items-center justify-between h-16 max-w-4xl">
                <div class="flex gap-4 h-full flex-row flex-nowrap items-center flex-grow">
                    <div class="flex flex-row flex-grow flex-nowrap justify-start bg-transparent items-center">
                        <p class="font-bold text-inherit">장봐주는언니 운양점</p>
                    </div>
                </div>
                <div class="flex gap-4 h-full flex-row flex-nowrap items-center">
                    <a href="#" class="btn-default">매장 위치</a>
                    <a href="tel:031-8049-0947" class="btn-default">전화 문의</a>
                </div>
            </header>
        </nav>

        <!-- Date Selection -->
        <div class="flex flex-col">
            <div class="py-3 px-6 border-b overflow-x-auto scrollbar-hide">
                <div class="flex items-center space-x-3">
                    <button class="btn-outline whitespace-nowrap">6월23일 (월)</button>
                    <button class="btn-default whitespace-nowrap">6월24일 (화)</button>
                    <button class="btn-default whitespace-nowrap">6월25일 (수)</button>
                    <button class="btn-default whitespace-nowrap">6월26일 (목)</button>
                    <button class="btn-default whitespace-nowrap">6월27일 (금)</button>
                </div>
            </div>
        </div>

        <!-- Event Header -->
        <div class="pb-10">
            <div class="pt-5 px-5 pb-3 flex items-center">
                <div>
                    <h1 class="text-xl font-bold">6.23.월요일 픽업 공구</h1>
                    <span class="text-sm font-normal text-gray-500">수령일 2025년 06월 23일</span>
                </div>
            </div>

            <!-- Category Filter -->
            <div class="no-scrollbar flex overflow-x-auto px-5 py-2 sticky-header gap-x-2 border-b">
                <button class="btn-outline whitespace-nowrap" onclick="filterProducts('all')">전체</button>
                <button class="btn-default whitespace-nowrap" onclick="filterProducts('fruit')">과일(15)</button>
                <button class="btn-default whitespace-nowrap" onclick="filterProducts('group')">공구(9)</button>
                <button class="btn-default whitespace-nowrap" onclick="filterProducts('vegetable')">야채(18)</button>
            </div>

            <!-- Product List -->
            <form class="flex flex-col" id="orderForm">
                <!-- Products will be populated by JavaScript -->
                <div id="productList"></div>

                <!-- Order Summary -->
                <div class="mx-8 gap-y-1 py-5 border-b flex flex-col">
                    <div class="flex">
                        <span>주문수량</span>
                        <span class="ml-auto font-medium text-md" id="totalQuantity">0개</span>
                    </div>
                    <div class="flex">
                        <span>주문금액</span>
                        <span class="ml-auto font-medium text-md" id="totalAmount">0원</span>
                    </div>
                    <div class="flex">
                        <span class="font-medium">합계</span>
                        <span class="ml-auto font-bold text-lg" id="totalSum">0원</span>
                    </div>
                </div>

                <!-- Delivery Method -->
                <div class="mx-8 py-5 border-b">
                    <div class="flex flex-col space-y-1 w-full">
                        <div class="relative flex flex-col gap-2">
                            <span class="text-gray-500">수령 방식</span>
                            <div class="flex flex-col flex-wrap gap-2">
                                <label class="flex items-center cursor-pointer">
                                    <input type="radio" name="deliveryType" value="PICKUP" checked disabled class="mr-2">
                                    <span>픽업 수령</span>
                                </label>
                                <label class="flex items-center cursor-pointer opacity-50">
                                    <input type="radio" name="deliveryType" value="DELIVERY" disabled class="mr-2">
                                    <span>배송 수령</span>
                                </label>
                            </div>
                        </div>
                        <span class="text-gray-500 text-sm mt-3 block">픽업 수령만 가능한 행사입니다.</span>
                    </div>
                </div>

                <!-- Customer Information -->
                <div class="mx-8 flex flex-col gap-y-3 py-5">
                    <div class="flex flex-col space-y-1 w-full">
                        <label class="text-sm font-medium text-gray-700">고객명(닉네임) *</label>
                        <input type="text" name="customerName" class="input-field" placeholder="최초 1회만 입력해주세요. 이후에는 자동 입력됩니다." required>
                    </div>
                    
                    <div class="flex flex-col space-y-1 w-full">
                        <label class="text-sm font-medium text-gray-700">전화번호 *</label>
                        <input type="tel" name="customerPhoneNumber" class="input-field" placeholder="알림톡 발송을 위해 정확한 전화번호를 입력해주세요." required>
                    </div>
                    
                    <div class="flex flex-col space-y-1 w-full">
                        <label class="text-sm font-medium text-gray-700">요청사항</label>
                        <input type="text" name="customerMessage" class="input-field" placeholder="요청사항을 입력해주세요.">
                    </div>

                    <!-- Privacy Policy -->
                    <div class="mt-5 flex flex-col gap-y-5">
                        <hr class="border-gray-200">
                        <div class="flex flex-col gap-2">
                            <p class="font-medium">주문 시, 개인정보 수집 및 이용 동의 처리</p>
                            <p class="text-gray-500 text-sm">
                                입력해주신 개인정보를 활용합니다.<br>
                                1. 수집 목적: 공동구매 서비스 제공 및 주문 접수<br>
                                2. 수집 항목: 이름, 전화번호, 주소 등 주문 관련 정보<br>
                                3. 보유 및 이용기간 : 수집일로부터 2년까지
                            </p>
                        </div>
                    </div>
                </div>
            </form>

            <!-- Footer -->
            <footer class="mt-10 bg-gray-50">
                <div class="w-full mx-auto max-w-4xl px-5 py-10">
                    <div class="text-gray-500 text-xs">
                        우리동네주문서 <br>
                        제휴문의: 1661-6515 <br>
                        (주)로지스트 대표자 : 정동명 <br><br>
                        <div class="flex items-center space-x-2">
                            <a href="#" class="underline">사업자 정보</a>
                            <a href="#" class="underline">개인정보 처리방침</a>
                            <a href="#" class="underline">서비스 이용약관</a>
                        </div>
                        Copyright © 2024 로지스트 All Rights Reserved.
                    </div>
                </div>
            </footer>

            <!-- Fixed Bottom Bar -->
            <div class="fixed-footer py-2 px-3 flex space-x-3">
                <a href="#" class="btn-outline">주문내역</a>
                <button type="submit" form="orderForm" class="btn-primary flex-1" id="submitOrder">주문하기</button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Product data
        const products = [
            {
                id: 1,
                name: "미향복숭아5개",
                price: 6500,
                image: "https://storage.googleapis.com/woori09/uploads/1750637951406-1750637923258.jpg",
                stock: 10,
                category: "fruit"
            },
            {
                id: 2,
                name: "포기상추400g",
                price: 700,
                image: "https://storage.googleapis.com/woori09/uploads/1749168984518-1749168778631.jpg",
                stock: 7,
                category: "vegetable"
            },
            {
                id: 3,
                name: "큰양배추",
                price: 2900,
                image: "https://storage.googleapis.com/woori09/uploads/1749402198642-Internet_20250527_143150_7.webp",
                stock: 2,
                category: "vegetable"
            },
            {
                id: 4,
                name: "호랑이콩 500g내외",
                price: 4500,
                image: "https://storage.googleapis.com/woori09/uploads/1750206761415-1750203282065.jpg",
                stock: 6,
                category: "vegetable"
            },
            {
                id: 5,
                name: "알배기",
                price: 1700,
                image: "https://storage.googleapis.com/woori09/uploads/1746794042736-1744336159328-20250411_100703.jpg",
                stock: 10,
                category: "vegetable"
            },
            {
                id: 6,
                name: "*오늘특가* 블루베리2팩",
                price: 5700,
                image: "https://storage.googleapis.com/woori09/uploads/1750639953054-1750637907298.jpg",
                stock: 22,
                category: "fruit"
            },
            {
                id: 7,
                name: "*오늘특가* 살구1kg내외",
                price: 4900,
                image: "https://storage.googleapis.com/woori09/uploads/1750639968724-1750637888426.jpg",
                stock: 10,
                category: "fruit"
            },
            {
                id: 8,
                name: "*오늘특가* 체리300g",
                price: 5900,
                image: "https://storage.googleapis.com/woori09/uploads/1750639985831-1750637901721.jpg",
                stock: 9,
                category: "fruit"
            },
            {
                id: 9,
                name: "참외7개",
                price: 8500,
                image: "https://storage.googleapis.com/woori09/uploads/1749449358559-1749449244583.jpg",
                stock: 12,
                category: "fruit"
            },
            {
                id: 10,
                name: "자두500g",
                price: 5900,
                image: "https://storage.googleapis.com/woori09/uploads/1750006203852-1750005415104.jpg",
                stock: 14,
                category: "fruit"
            }
        ];

        let cart = {};
        let currentFilter = 'all';

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            renderProducts();
            updateOrderSummary();
        });

        // Render products
        function renderProducts() {
            const productList = document.getElementById('productList');
            const filteredProducts = currentFilter === 'all' 
                ? products 
                : products.filter(product => product.category === currentFilter);

            productList.innerHTML = filteredProducts.map(product => `
                <div class="product-card">
                    <div class="flex gap-x-5 items-center">
                        <div class="min-w-[100px] min-h-[100px] relative">
                            <img src="${product.image}" 
                                 alt="${product.name}" 
                                 class="w-[100px] h-[100px] object-cover rounded-xl shadow-sm"
                                 onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMDAiIGhlaWdodD0iMTAwIiBmaWxsPSIjRjFGNUY5Ii8+CjxwYXRoIGQ9Ik01MCA2NUw2MCA0NUg0MEw1MCA2NVoiIGZpbGw9IiM2NDc0OEIiLz4KPC9zdmc+'" />
                        </div>
                        <div class="flex flex-1 flex-col gap-y-1">
                            <div class="flex">
                                <p class="text-sm min-w-[60px] text-gray-500">상품명</p>
                                <p class="text-sm font-medium">${product.name}</p>
                            </div>
                            <div class="flex">
                                <p class="text-sm min-w-[60px] text-gray-500">가격</p>
                                <p class="text-sm font-medium">${product.price.toLocaleString()}원</p>
                            </div>
                            <div class="flex">
                                <p class="text-sm font-medium">${product.stock}<span class="text-sm min-w-[60px] text-gray-500">개 남았어요!</span></p>
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col space-y-1 mt-5">
                        <div class="w-full flex space-x-3">
                            <button class="border flex items-center justify-center rounded-lg font-medium px-4 text-sm" 
                                    onclick="showProductDetail(${product.id})">상세보기</button>
                            <div class="border flex-1 flex items-center justify-center rounded-lg">
                                <button type="button" 
                                        class="quantity-btn ${(!cart[product.id] || cart[product.id] === 0) ? 'opacity-50' : ''}" 
                                        onclick="updateQuantity(${product.id}, -1)"
                                        ${(!cart[product.id] || cart[product.id] === 0) ? 'disabled' : ''}>-</button>
                                <div class="flex items-center justify-center font-bold text-lg px-4">
                                    ${cart[product.id] || 0}개
                                </div>
                                <button type="button" 
                                        class="quantity-btn" 
                                        onclick="updateQuantity(${product.id}, 1)">+</button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Filter products
        function filterProducts(category) {
            currentFilter = category;
            
            // Update button styles
            document.querySelectorAll('.sticky-header button').forEach(btn => {
                btn.className = btn.className.replace('btn-outline', 'btn-default');
            });
            
            if (category === 'all') {
                document.querySelector('[onclick="filterProducts(\'all\')"]').className = 
                    document.querySelector('[onclick="filterProducts(\'all\')"]').className.replace('btn-default', 'btn-outline');
            } else {
                document.querySelector(`[onclick="filterProducts('${category}')"]`).className = 
                    document.querySelector(`[onclick="filterProducts('${category}')"]`).className.replace('btn-default', 'btn-outline');
            }
            
            renderProducts();
        }

        // Update quantity
        function updateQuantity(productId, change) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            if (!cart[productId]) cart[productId] = 0;
            
            const newQuantity = cart[productId] + change;
            
            if (newQuantity >= 0 && newQuantity <= product.stock) {
                cart[productId] = newQuantity;
                if (cart[productId] === 0) {
                    delete cart[productId];
                }
                renderProducts();
                updateOrderSummary();
            }
        }

        // Update order summary
        function updateOrderSummary() {
            let totalQuantity = 0;
            let totalAmount = 0;

            Object.keys(cart).forEach(productId => {
                const product = products.find(p => p.id == productId);
                if (product) {
                    totalQuantity += cart[productId];
                    totalAmount += product.price * cart[productId];
                }
            });

            document.getElementById('totalQuantity').textContent = `${totalQuantity}개`;
            document.getElementById('totalAmount').textContent = `${totalAmount.toLocaleString()}원`;
            document.getElementById('totalSum').textContent = `${totalAmount.toLocaleString()}원`;
        }

        // Show product detail (placeholder)
        function showProductDetail(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                alert(`${product.name}\n가격: ${product.price.toLocaleString()}원\n재고: ${product.stock}개`);
            }
        }

        // Handle form submission
        document.getElementById('orderForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const customerName = document.querySelector('[name="customerName"]').value;
            const customerPhone = document.querySelector('[name="customerPhoneNumber"]').value;
            
            if (!customerName || !customerPhone) {
                alert('고객명과 전화번호를 입력해주세요.');
                return;
            }
            
            if (Object.keys(cart).length === 0) {
                alert('주문할 상품을 선택해주세요.');
                return;
            }
            
            // Simulate order submission
            const orderData = {
                customer: {
                    name: customerName,
                    phone: customerPhone,
                    message: document.querySelector('[name="customerMessage"]').value
                },
                items: cart,
                total: Object.keys(cart).reduce((total, productId) => {
                    const product = products.find(p => p.id == productId);
                    return total + (product.price * cart[productId]);
                }, 0)
            };
            
            console.log('Order submitted:', orderData);
            alert('주문이 접수되었습니다!\n곧 확인 연락을 드리겠습니다.');
            
            // Reset form
            cart = {};
            document.getElementById('orderForm').reset();
            renderProducts();
            updateOrderSummary();
        });

        // Handle scroll for sticky elements
        window.addEventListener('scroll', function() {
            const stickyHeader = document.querySelector('.sticky-header');
            if (window.scrollY > 65) {
                stickyHeader.style.boxShadow = '0 2px 10px rgba(0,0,0,0.1)';
            } else {
                stickyHeader.style.boxShadow = 'none';
            }
        });
    </script>
</body>
</html> 